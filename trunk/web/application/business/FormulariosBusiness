<?php
require_once('Business.php');
require_once(APPLICATION . '/config/IfspDatabase.php');

class FormularioBusiness extends Business {

    public function __construct() {
        parent::$database = IfspDatabase::getInstance();
        parent::$database->getInterativoCredentials();
        parent::$database->query = "SELECT f.id, f.titulo, f.aberto, f.status, f.data FROM formulario f WHERE f.aberto = 1 AND f.status = 1";  
	}


    public function getFormsList(){
        parent::$database->connect();
        parent::$database->query($database->query);
        $lista_form = parent::$database->result();
        parent::$database->close();
        return $lista_form;
    }

    public function find($id) {
        throw new Exception("Método não implementado - Interface");
        //metodo acima pode ser inserido aqui??

    }

    public function update(Model $update) {
        throw new Exception("Método não implementado - Interface");
    }

    public function __destruct() {
        if (isset(parent::$database) && parent::$database->getConnection()) {
            parent::$database->close();
        }
    }

}